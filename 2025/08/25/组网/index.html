<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>组网总结报告 | YXW</title><meta name="author" content="Ludiw Yuan"><meta name="copyright" content="Ludiw Yuan"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="前期准备 一台服务器 wireguard 已搭建好的内网 基础知识 vpn vs rdp vpn：内网通过一个服务器做一个代理ip，为其提供网络服务 rdp：通过rdp服务器中继到远程计算机（不仅仅是rdp协议还有其他的包括nat等） system proxy vs tun mode system proxy： 代理作为中间人转发你的网络请求，一般仅支持https和sock 5. 这也是为什么一些">
<meta property="og:type" content="article">
<meta property="og:title" content="组网总结报告">
<meta property="og:url" content="http://example.com/2025/08/25/%E7%BB%84%E7%BD%91/index.html">
<meta property="og:site_name" content="YXW">
<meta property="og:description" content="前期准备 一台服务器 wireguard 已搭建好的内网 基础知识 vpn vs rdp vpn：内网通过一个服务器做一个代理ip，为其提供网络服务 rdp：通过rdp服务器中继到远程计算机（不仅仅是rdp协议还有其他的包括nat等） system proxy vs tun mode system proxy： 代理作为中间人转发你的网络请求，一般仅支持https和sock 5. 这也是为什么一些">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/img/spinningTennis.jpg">
<meta property="article:published_time" content="2025-08-25T10:18:50.000Z">
<meta property="article:modified_time" content="2026-01-05T03:17:46.621Z">
<meta property="article:author" content="Ludiw Yuan">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/spinningTennis.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2025/08/25/%E7%BB%84%E7%BD%91/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '组网总结报告',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  isShuoshuo: false
}</script><meta name="generator" content="Hexo 7.3.0"><link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet" /></head><body><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">YXW</span></a><a class="nav-page-title" href="/"><span class="site-name">组网总结报告</span></a></span><div id="menus"></div></nav><div id="post-info"><h1 class="post-title">组网总结报告</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2025-08-25T10:18:50.000Z" title="Created 2025-08-25 18:18:50">2025-08-25</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2026-01-05T03:17:46.621Z" title="Updated 2026-01-05 11:17:46">2026-01-05</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h3 id="前期准备">前期准备</h3>
<p>一台服务器</p>
<p>wireguard</p>
<p>已搭建好的内网</p>
<h3 id="基础知识">基础知识</h3>
<p>vpn vs rdp</p>
<p>vpn：内网通过一个服务器做一个代理ip，为其提供网络服务</p>
<p>rdp：通过rdp服务器中继到远程计算机（不仅仅是rdp协议还有其他的包括nat等）</p>
<p>system proxy vs tun mode</p>
<p>system proxy： 代理作为中间人转发你的网络请求，一般仅支持https和sock 5. 这也是为什么一些客户端不允许system proxy模式，典型git microstore 443 （所谓的握手错误，具体地可以延伸到https 的ca验证流程 单独再开在聊）</p>
<p>tun mode： 代理直接指定一个网络服务你的网络请求，不再是中间人，相当于代理帮你开了一条路由</p>
<p>具体地区别见抓包图</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    === 客户端到VPN代理服务器 ===</span><br><span class="line">Frame 1: Ethernet II, Src: 00:1b:44:11:3a:b7, Dst: 00:50:56:c0:00:08</span><br><span class="line">Internet Protocol Version 4, Src: 192.168.1.100, Dst: 203.0.113.10</span><br><span class="line">Transmission Control Protocol, Src Port: 52341, Dst Port: 1080</span><br><span class="line">SOCKS Protocol</span><br><span class="line">    Version: 5</span><br><span class="line">    Command: CONNECT (1)</span><br><span class="line">    Address Type: Domain name (3)</span><br><span class="line">    Destination: example.com:443</span><br><span class="line">    </span><br><span class="line">Frame 2: HTTP over SOCKS</span><br><span class="line">Source: 192.168.1.100:52341</span><br><span class="line">Destination: 203.0.113.10:1080</span><br><span class="line">HTTP Request: GET /api/data HTTP/1.1</span><br><span class="line">Host: example.com</span><br><span class="line">User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64)</span><br><span class="line">Accept: application/json</span><br><span class="line">Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGc...</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">---</span><br><span class="line">tun </span><br><span class="line"></span><br><span class="line">=== 客户端到VPN隧道服务器 ===</span><br><span class="line">Frame 1: Ethernet II, Src: 00:1b:44:11:3a:b7, Dst: 00:50:56:c0:00:08</span><br><span class="line">Internet Protocol Version 4, Src: 192.168.1.100, Dst: 198.51.100.1</span><br><span class="line">User Datagram Protocol, Src Port: 47841, Dst Port: 1194</span><br><span class="line">OpenVPN Protocol</span><br><span class="line">    Opcode: P_DATA_V1 (6)</span><br><span class="line">    Session ID: 0x5a4b3c2d</span><br><span class="line">    HMAC: a7f8e9d6c5b4a39281706f5e4d3c2b1a</span><br><span class="line">    Encrypted Payload: [2048 bytes]</span><br><span class="line">    Data: 4a7f2e8b9c1d6f5a3e9b7c4d8f2a5e1b9c6d3a7f...</span><br><span class="line">          [完全加密，无法解读应用层内容]</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="网络关系图">网络关系图</h3>
<pre><code class="highlight mermaid">graph TD
    subgraph &quot;你的电脑 (Your PC)&quot;
        A[&quot;应用&lt;br&gt;App (e.g., Git, Browser)&quot;] -- &quot;SSL/TLS 加密通道&quot; --&gt; B((&quot;互联网&lt;br&gt;Internet&quot;));
    end
    B -- &quot;连接&quot; --&gt; C[&quot;目标服务器&lt;br&gt;Server (e.g., GitHub)&quot;];
    style A fill:#cde4ff
    style C fill:#d5e8d4</code></pre>
<pre><code class="highlight mermaid">graph TD
    subgraph &quot;你的电脑 (Your PC)&quot;
        App1[&quot;浏览器&lt;br&gt;Browser&quot;] --&gt; ProxySettings&#123;&quot;OS 系统代理设置&lt;br&gt;OS Proxy Settings&quot;&#125;;
        ProxySettings --&gt; ProxyClient[&quot;代理客户端&lt;br&gt;Proxy Client&quot;];
        App2[&quot;Git / Steam&quot;] -- &quot;1. 尝试直连&lt;br&gt;2. SSL 错误导致失败&quot; --x B((&quot;互联网&lt;br&gt;Internet&quot;));
    end
    ProxyClient -- &quot;经过代理&quot; --&gt; B;
    B -- &quot;连接&quot; --&gt; C[&quot;目标服务器&lt;br&gt;Server&quot;];
    style App1 fill:#cde4ff
    style App2 fill:#ffcdd2
    style ProxyClient fill:#f8cbad</code></pre>
<pre><code class="highlight mermaid">sequenceDiagram
    participant Git as &quot;Git 客户端 (Client)&quot;
    participant Proxy as &quot;代理客户端 (Proxy)&quot;
    participant Server as &quot;目标服务器 (Server)&quot;

    Git-&gt;&gt;+Proxy: &quot;1. 发起 HTTPS 连接&quot;
    Proxy-&gt;&gt;+Server: &quot;2. 转发请求&quot;
    Server--&gt;&gt;-Proxy: &quot;3. 返回官方证书&quot;
    Note right of Proxy: &quot;代理持有官方证书&quot;
    Proxy--&gt;&gt;-Git: &quot;4. 返回 *自己的* 证书&quot;
    Note left of Git: &quot;证书验证失败!&quot;
    Git--xProxy: &quot;5. 拒绝连接&quot;</code></pre>
<pre><code class="highlight mermaid">graph TD
    subgraph &quot;你的电脑 (Your PC)&quot;
        subgraph &quot;所有应用 (All Applications)&quot;
            App1[&quot;浏览器&lt;br&gt;Browser&quot;]
            App2[&quot;Git&quot;]
            App3[&quot;Steam&quot;]
        end
        App1 &amp; App2 &amp; App3 --&gt; OSRT&#123;&quot;操作系统路由表&lt;br&gt;OS Routing Table&quot;&#125;;
        OSRT --&gt; TUN[&quot;虚拟网卡&lt;br&gt;Virtual TUN Interface&quot;];
        TUN --&gt; ProxyClient[&quot;代理客户端&lt;br&gt;Proxy Client&quot;];
    end
    ProxyClient -- &quot;完整加密的数据包&quot; --&gt; B((&quot;互联网&lt;br&gt;Internet&quot;));
    B -- &quot;连接&quot; --&gt; C[&quot;目标服务器&lt;br&gt;Server&quot;];
    style TUN fill:#b39ddb
    style ProxyClient fill:#f8cbad</code></pre>
<h3 id="实际配置">实际配置</h3>
<ul>
<li>自己的服务器端按照wireguard配置文档分配不同ip</li>
<li>给本地电脑配好ip后，本地电脑尝试ping 远程</li>
<li>最后使用rdp或者ssh内网互联</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="http://example.com">Ludiw Yuan</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="http://example.com/2025/08/25/%E7%BB%84%E7%BD%91/">http://example.com/2025/08/25/%E7%BB%84%E7%BD%91/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles on this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless otherwise stated.</span></div></div><div class="tag_share"><div class="post-share"><div class="social-share" data-image="/img/spinningTennis.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2026/01/05/hello-world/" title="Hello World"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">Previous</div><div class="info-item-2">Hello World</div></div><div class="info-2"><div class="info-item-1">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick Start Create a new post 1$ hexo new &quot;My New Post&quot; More info: Writing Run server 1$ hexo server More info: Server Generate static files 1$ hexo generate More info: Generating Deploy to remote sites 1$ hexo deploy More info: Deployment </div></div></div></a><a class="pagination-related" href="/2025/08/25/%E8%A3%85%E6%9C%BA%E6%80%BB%E7%BB%93/" title="装机总结"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">Next</div><div class="info-item-2">装机总结</div></div><div class="info-2"><div class="info-item-1">记录一下装机实操过程中的坑   机箱主板增高柱 安装主板增高柱子是保护主板的背面引脚 因此尽量将主板的预留增高柱装满   安装顺序应该是  主板 --&gt; 内存 --》 固定硬盘 --&gt; CPU风扇 --》机箱风扇 —-》显卡  值得注意地点  CPU风扇比较大，安装后整体插线不方便，因此顺序为以上 CPU的IO挡板很多功能是不需要的，比如hdmi，除非是集显，这也是hdmi接口有挡板的原因    风道 风冷的原理是将芯片热量从风道带走，所以跟我们常识上理解的对着CPU吹风有区别，因此要注意热气进出风口，安装相应的风扇。（理论上最低温度就是室温）   验机相关（装完系统后）  首先使用CPU-Z等软件都芯片信息，包括品牌名字 型号 频率 额定功率 都没问题（包括你的内存等芯片的频率设置） 显卡furmark压力测试 CPU直接跑分 主板参数 （一些没有无线网卡/蓝牙的解决方案）     补充一些硬件 光纤头和网线头 （铜丝和玻璃） 光猫和路由 （现在很多运营商给你送个猫当路由，希望你再升级，因为那个猫只有一个wan，不给你多的lan口）  </div></div></div></a></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/spinningTennis.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Ludiw Yuan</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">13</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">11</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://www.zhihu.com/people/schnappi-li"><i class="fab fa-zhihu"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%8D%E6%9C%9F%E5%87%86%E5%A4%87"><span class="toc-number">1.</span> <span class="toc-text">前期准备</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="toc-number">2.</span> <span class="toc-text">基础知识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%85%B3%E7%B3%BB%E5%9B%BE"><span class="toc-number">3.</span> <span class="toc-text">网络关系图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%99%85%E9%85%8D%E7%BD%AE"><span class="toc-number">4.</span> <span class="toc-text">实际配置</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2026/01/05/Web%20Intro/" title="Web Intro">Web Intro</a><time datetime="2026-01-05T02:56:04.145Z" title="Created 2026-01-05 10:56:04">2026-01-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2026/01/05/hello-world/" title="Hello World">Hello World</a><time datetime="2026-01-05T02:56:03.568Z" title="Created 2026-01-05 10:56:03">2026-01-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/08/25/%E7%BB%84%E7%BD%91/" title="组网总结报告">组网总结报告</a><time datetime="2025-08-25T10:18:50.000Z" title="Created 2025-08-25 18:18:50">2025-08-25</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/08/25/%E8%A3%85%E6%9C%BA%E6%80%BB%E7%BB%93/" title="装机总结">装机总结</a><time datetime="2025-08-25T10:18:50.000Z" title="Created 2025-08-25 18:18:50">2025-08-25</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/05/12/vercelAndReact/" title="vercelAndReact">vercelAndReact</a><time datetime="2025-05-12T08:50:29.000Z" title="Created 2025-05-12 16:50:29">2025-05-12</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2026 By Ludiw Yuan</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"><script>(async () => {
  const showKatex = () => {
    document.querySelectorAll('#article-container .katex').forEach(el => el.classList.add('katex-show'))
  }

  if (!window.katex_js_css) {
    window.katex_js_css = true
    await btf.getCSS('https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css')
    if (true) {
      await btf.getScript('https://cdn.jsdelivr.net/npm/katex/dist/contrib/copy-tex.min.js')
    }
  }

  showKatex()
})()</script><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? '' : ''

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = `%%{init:{ 'theme':'${theme}'}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>